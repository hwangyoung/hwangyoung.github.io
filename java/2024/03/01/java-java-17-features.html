<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Java 17 Features | Young’s Logs</title>
<meta name="generator" content="Jekyll v4.3.3">
<meta property="og:title" content="Java 17 Features">
<meta name="author" content="Young Hwang">
<meta property="og:locale" content="en_US">
<meta name="description" content="Spring Boot 3.0 출시 이후 Java 17 버전이 필수가 되었습니다. 이로 인해 Java 17의 기능에 대한 이해가 중요하게 되었습니다.">
<meta property="og:description" content="Spring Boot 3.0 출시 이후 Java 17 버전이 필수가 되었습니다. 이로 인해 Java 17의 기능에 대한 이해가 중요하게 되었습니다.">
<link rel="canonical" href="/java/2024/03/01/java-java-17-features.html">
<meta property="og:url" content="/java/2024/03/01/java-java-17-features.html">
<meta property="og:site_name" content="Young’s Logs">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2024-03-01T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Java 17 Features">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Young Hwang"},"dateModified":"2024-03-01T00:00:00+00:00","datePublished":"2024-03-01T00:00:00+00:00","description":"Spring Boot 3.0 출시 이후 Java 17 버전이 필수가 되었습니다. 이로 인해 Java 17의 기능에 대한 이해가 중요하게 되었습니다.","headline":"Java 17 Features","mainEntityOfPage":{"@type":"WebPage","@id":"/java/2024/03/01/java-java-17-features.html"},"url":"/java/2024/03/01/java-java-17-features.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="icon" href="">
  <link rel="canonical" href="">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Young's Logs">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js" async></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/5.3.7/umd/photoswipe-lightbox.umd.min.js" async></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/photoswipe/5.3.7/umd/photoswipe.umd.min.js" async></script>
<link href="//cdnjs.cloudflare.com/ajax/libs/photoswipe/5.3.7/photoswipe.min.css" rel="stylesheet">
<style>
  .pswp .pswp__container .pswp__img {
    background-color: white;
  }
</style>

<script>
  function initPhotoSwipe() {
    let customOptions = {};

    try {
      const data = ``.replaceAll("=>", ":");
      customOptions = JSON.parse(data);
    } catch (e) {
      console.info("Invalid custom photo previewer options! " + e.message);
    }

    // Define object and gallery options
    const options = Object.assign(
      {
        gallery: "section.main",
        children: "a.photo-swipe",
        photo_scale: 2,
        // dynamic import is not supported in UMD version
        pswpModule: PhotoSwipe,
      },
      customOptions
    );

    const galleryEl = document.querySelector(options.gallery);
    if (!galleryEl) {
      return;
    }

    const imgEls = [];
    const els = galleryEl.querySelectorAll("img:not(.emoji)");
    els.forEach((el) => {
      if (el.src.trim() == "") {
        return;
      }
      if (!imgEls.includes(el)) {
        imgEls.push(el);
      }
    });

    if (imgEls.length === 0) {
      return;
    }

    imgEls.forEach((imgEl) => {
      imgEl.outerHTML = `
      <a class="photo-swipe"
        href="${imgEl.src}"
        data-pswp-width="${
          Math.max(imgEl.naturalWidth, imgEl.width) * options.photo_scale
        }"
        data-pswp-height="${
          Math.max(imgEl.naturalHeight, imgEl.height) * options.photo_scale
        }"
        data-pswp-caption="${imgEl.getAttribute("caption") || imgEl.alt}"
        target="_blank">
        ${imgEl.outerHTML}
      </a>`;
    });

    // Initialize PhotoSwipe 5
    var lightbox = new PhotoSwipeLightbox(options);

    lightbox.init();
  }

  window.addEventListener("load", initPhotoSwipe);
</script>
</head>
<body>



























































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="Young's Logs" src="" onerror="this.style.display='none'">
  Young's Logs
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/about.html">ABOUT</a><a class="page-link" href="/archives.html">ARCHIVES</a><a class="page-link" href="/categories.html">CATEGORIES</a><a class="page-link" href="/">HOME</a><a class="page-link" href="/tags.html">TAGS</a>









<div class="page-link" style="display: inline;">



<div id="google_translate_element" style="display: none;">
</div>

<div class="ct-language">
  <ul class="list-unstyled ct-language-dropdown">
    
      <li>
        <a href="#" class="lang-select" data-lang="en">
          
          <img src="https://cdn.countryflags.com/thumbs/united-states-of-america/flag-400.png" title="English">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="fr">
          
          <img src="https://cdn.countryflags.com/thumbs/france/flag-400.png" title="French">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="zh-CN">
          
          <img src="https://cdn.countryflags.com/thumbs/china/flag-400.png" title="Chinese(Simple)">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ja">
          
          <img src="https://cdn.countryflags.com/thumbs/japan/flag-400.png" title="Japanese">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ko">
          
          <img src="https://cdn.countryflags.com/thumbs/south-korea/flag-400.png" title="Korean">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="ru">
          
          <img src="https://cdn.countryflags.com/thumbs/russia/flag-400.png" title="Russian">
          
        </a>
      </li>
    
  </ul>
</div>

<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    autoDisplay: false,
    layout: google.translate.TranslateElement.InlineLayout.VERTICAL
  }, 'google_translate_element');

  // Links to cross-origin destinations are unsafe
  var gll = document.getElementsByClassName('goog-logo-link')[0];
  if (gll) {
    gll.setAttribute('rel', 'noopener');
  }

  function restoreLang() {
    var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
    if (!iframe) return;

    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    var restore_el = innerDoc.getElementsByTagName("button");

    for (var i = 0; i < restore_el.length; i++) {
      if (restore_el[i].id.indexOf("restore") >= 0) {
        restore_el[i].click();
        var close_el = innerDoc.getElementsByClassName("goog-close-link");
        close_el[0].click();
        return;
      }
    }
  }

  function triggerHtmlEvent(element, eventName) {
    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent(eventName, true, true);
      element.dispatchEvent(event);
    } else {
      event = document.createEventObject();
      event.eventType = eventName;
      element.fireEvent('on' + event.eventType, event);
    }
  }

  var googleCombo = document.querySelector("select.goog-te-combo");
  var langSelect = document.querySelector('.ct-language');
  langSelect.addEventListener('click', function(event) {
    if (!event.target) {
      return;
    }

    var selected = document.querySelector('.ct-language .ct-language-selected');
    if (selected) {
      selected.classList.remove('ct-language-selected');
    }

    var target = event.target;
    while (target && target !== langSelect ) {
      if (target.matches('.lang-select')) {
        break;
      }
      target = target.parentElement;
    }

    if (target && target.matches('.lang-select')) {
      var lang = target.getAttribute('data-lang');
      if (googleCombo.value == lang) {
        restoreLang();
      } else {
        target.parentElement.classList.add('ct-language-selected');
        googleCombo.value = lang;
        triggerHtmlEvent(googleCombo, 'change');
      }
    }

    event.preventDefault();
  });
}
</script>

<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async></script>
</div>
</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>
















































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">Java 17 Features</h1>
  <h2 class="post-subtitle"></h2>

  <div class="post-meta">
    <time class="dt-published" datetime="2024-03-01T00:00:00+00:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Mar 01, 2024
    </time>
    
































    <span class="post-reading-time left-vsplit"><i class="fa fa-clock-o"></i> About 18 mins</span>
  </div>
<div class="post-tags">
<a class="post-tag" href="/tags.html#java">#java</a><a class="post-tag" href="/tags.html#java%2017">#java 17</a><a class="post-tag" href="/tags.html#JDK%2017">#JDK 17</a><a class="post-tag" href="/tags.html#switch">#switch</a><a class="post-tag" href="/tags.html#sealed">#sealed</a><a class="post-tag" href="/tags.html#SplittableRandom">#SplittableRandom</a>
</div></header>
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <p>Spring Boot 3.0 출시 이후 Java 17 버전이 필수가 되었습니다.
이로 인해 Java 17의 기능에 대한 이해가 중요하게 되었습니다.</p>

<p>Java 17은 Java 의 LTS(Long Term Support) 버전으로 2026년까지 지원이 되며, 개발자 생상성과 프로그램 효율성을 향상시키는 것을 목표로 몇가지 새로운 기능이 추가되었습니다.
이번 포스팅에서는 Java 17의 기능 중 일부를 효과적으로 사용하는 방법을 이해하는 데 도움이 되는 코드 예제와 함께 살펴보겠습니다.</p>

<h2 id="1-pattern-matching-for-switch-statements">1. Pattern matching For switch statements</h2>

<p>Java 17에서는 개발자가 패턴 일치와 관련된 스위치 문의 코드를 단순화할 수 있도록 ‘Pattern matching for switch’ 기능이 추가되었습니다.
이 기능은 switch 문의 여러 조건을 간결하게 표현할 수 있도록 도와줍니다.</p>

<p>이 기능이 도입되기 전에는 switch 문에서 단일 변수의 값을 일련의 상수 또는 표현식과 비교할 수만 있었습니다.
또한 byte, short, int, char, String, enum, Byte, Character, Short, Integer 유형으로 제한 되었습니다.</p>

<p>새로운 기능을 통해 개발자는 패턴을 사용하여 모든 유형의 개체 값과 일치시킬 수 있습니다.</p>

<h3 id="traditional-switch-statement">Traditional switch statement</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getDayOfWeek</span><span class="o">(</span><span class="kt">int</span> <span class="n">dayNum</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">day</span><span class="o">;</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">dayNum</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Monday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Tuesday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Wednesday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Thursday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Friday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Saturday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Sunday"</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">day</span> <span class="o">=</span> <span class="s">"Invalid day"</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">day</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="java-12-switch-statement">Java 12 switch Statement</h3>

<p>Java 12 에서는 아래와 같이 switch 문을 사용하여 간결하게 표현할 수 있습니다.
case 문은 이제 새로운 화살표 연산자(-&gt;)를 사용하여 패턴과 결과 표현식을 지정합니다. 
또한 각 경우마다 break 문을 사용할 필요가 없습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getDayOfWeek</span><span class="o">(</span><span class="kt">int</span> <span class="n">dayNum</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">switch</span> <span class="o">(</span><span class="n">dayNum</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="s">"Monday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">2</span> <span class="o">-&gt;</span> <span class="s">"Tuesday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">3</span> <span class="o">-&gt;</span> <span class="s">"Wednesday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">4</span> <span class="o">-&gt;</span> <span class="s">"Thursday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">5</span> <span class="o">-&gt;</span> <span class="s">"Friday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">6</span> <span class="o">-&gt;</span> <span class="s">"Saturday"</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">7</span> <span class="o">-&gt;</span> <span class="s">"Sunday"</span><span class="o">;</span>
        <span class="k">default</span> <span class="o">-&gt;</span> <span class="s">"Invalid day"</span><span class="o">;</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="java-17-switch-statement">Java 17 switch Statement</h3>

<p>Java 17의 새로운 기능을 사용하면 상수 패턴을 사용하는 것 외에도 개발자가 변수 패턴과 유형 패턴을 사용할 수 있습니다.
변수 패턴을 사용하면 특정 값과 일치하여 변수에 할당할 수 있습니다.
유형 패턴을 사용하면 특정 유형의 값과 일치할 수 있습니다.</p>

<p>아래는 변수 및 유형 패턴의 사용을 보여주는 예입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getLength</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">switch</span> <span class="o">(</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">String</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="c1">// Variable pattern</span>
        <span class="k">case</span> <span class="nc">List</span> <span class="n">list</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">list</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="c1">// Type pattern</span>
        <span class="k">case</span> <span class="kc">null</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// null pointer excpetion</span>
        <span class="k">default</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre></div></div>

<p>예제에서 switch 표현식은 인수로 전달된 개체와 일치합니다.
첫 번째 case 문은 변수 패턴을 사용하여 String 유형의 값과 일치시키고 이를 변수 ‘s’에 할당한 다음 문자열의 길이를 반환합니다.
두 번째 case 문은 유형 패턴을 사용하여 List 유형의 값과 일치시키고 이를 변수 ‘list’에 할당한 다음 리스트가 비어 있지 않은 경우 리스트의 크기를 반환합니다.
마지막 case 문은 null 값과 일치하고 0을 반환합니다.
기본 case 문은 -1을 반환합니다.</p>

<p>또한 상수 대신 ‘expressions’을 case 문에 사용할 수 있습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">result</span> <span class="o">=</span> <span class="k">switch</span> <span class="o">(</span><span class="n">num</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span> <span class="o">-&gt;</span> <span class="s">"Low"</span><span class="o">;</span>
    <span class="k">case</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span> <span class="o">-&gt;</span> <span class="s">"Medium"</span><span class="o">;</span>
    <span class="k">case</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">10</span> <span class="o">-&gt;</span> <span class="s">"High"</span><span class="o">;</span> <span class="c1">// expression pattern</span>
    <span class="k">default</span> <span class="o">-&gt;</span> <span class="s">"Invalid Value"</span><span class="o">;</span>
<span class="o">};</span>
</code></pre></div></div>
<p>이 예제에서는 switch 문에서 num 변수의 값을 확인합니다.
case 문은 if 키워드를 사용하여 표현식 레이블과 추가 조건을 허용하는 구문을 사용합니다.</p>

<p>아래는 예제는 ‘case lables’에 허용되는 유형의 예제입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getType</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">switch</span> <span class="o">(</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="kc">null</span> <span class="o">-&gt;</span> <span class="s">"NULL value"</span><span class="o">;</span>
        <span class="k">case</span> <span class="nc">String</span> <span class="n">str</span> <span class="o">-&gt;</span> <span class="s">"It's a String"</span><span class="o">;</span>
        <span class="k">case</span> <span class="nc">Size</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="s">"Enum Type"</span><span class="o">;</span>
        <span class="k">case</span> <span class="nc">Point</span> <span class="n">p</span> <span class="o">-&gt;</span> <span class="s">"Records Type"</span><span class="o">;</span>
        <span class="k">case</span> <span class="nc">Employee</span> <span class="n">e</span> <span class="o">-&gt;</span> <span class="s">"Custom Object's Type"</span><span class="o">;</span>
        <span class="k">case</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">ai</span> <span class="o">-&gt;</span> <span class="s">"Array Type"</span><span class="o">;</span>
        <span class="k">case</span> <span class="nc">Employee</span> <span class="n">e</span> <span class="o">&amp;&amp;</span> <span class="n">e</span><span class="o">.</span><span class="na">getName</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"John"</span><span class="o">)</span> <span class="o">-&gt;</span><span class="s">"Conditional Statement"</span><span class="o">;</span>
            <span class="k">default</span> <span class="o">-&gt;</span> <span class="s">"Unknown"</span><span class="o">;</span>
    <span class="o">};</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">enum</span> <span class="nc">Size</span> <span class="o">{</span>
    <span class="no">SMALL</span><span class="o">,</span> <span class="no">MEDIUM</span><span class="o">,</span> <span class="no">LARGE</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="n">record</span> <span class="nf">Point</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Employee</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Employee</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="2-pattern-matching-for-instanceof">2. Pattern matching For instanceof</h2>

<p>Java 17에서는 유형 확인에 필요한 코드를 단순화하는 데 도움이 되는 간단한 패턴 일치 방법인 ‘instanceof’ 패턴 일치 기능이 추가되었습니다.
‘Pattern matching’을 사용하여 성고하면 검사된 객체의 값을 새 변수로 할당할 수 있습니다.
그러면 이 새 변수를 다음 코드에서 사용할 수 있습니다. 
또한 개체를 예상 유형으로 casting 할 필요도 없습니다.</p>

<p>다음은 ‘instaceof’의 ‘pattern matching’을 사용하여 코드를 단순화하는 예입니다.</p>

<h3 id="traditional-instanceof">Traditional instanceof</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="nc">String</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">s</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="java-17-instanceof">Java 17 instanceof</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<p>이전 방식에서는 메소드를 사용하기 전에 객체를 String 유형으로 casting 해야 했습니다.
하지만 새로운 방식에서는 instanceof 키워드를 사용하여 객체를 String 유형으로 casting 할 필요가 없습니다.</p>

<h2 id="3-sealed-classes--interfaces">3. Sealed Classes &amp; Interfaces</h2>

<p>Sealed 클래스 및 인터페이스는 특정 클래스 또는 인터페이스를 확장하거나 구현하는 클래스 또는 인터페이스를 제한하는 기능입니다.</p>

<p>간단히 말해 ‘Sealed’ 클래스는 특정 클래스나 인터페이스를 확장하거나 구현할 수 있는 클래스나 인터페이스를 지정하여 작동합니다.
이는 상위 클래스나 인터페이스에서 ‘sealed’ 수정자를 사용한 다음 허용되는 하위 클래스를 지정하거나 ‘permits’ 키워드를 사용하여 클래스를 구현함으로써 달성됩니다.</p>

<p>Sealed 클래스는 JEP 360에서 제안되었으면 JDK 15에서 미리 보기 기능으로 제공되었습니다.
이는 일부 개선을 거쳐 다시 제안되었으며 JDK 16에서 미리보기 기능으로 제공되었습니다.
이제 JDK 17에서는 JDK 16의 변경 사항 없이 Sealed 클래스가 마무리되어 제공되었습니다</p>

<p>Sealed 클래스의 예를 통해 이해해 보겠습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">sealed</span> <span class="kd">class</span> <span class="nc">Shape</span> 
    <span class="n">permits</span> <span class="nc">Circle</span><span class="o">,</span> <span class="nc">Square</span><span class="o">,</span> <span class="nc">Triangle</span> <span class="o">{</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>예제에서는 ‘sealed’ 수정자를 사용하여 Shape 클래스가 봉인된 클래스임을 지정합니다.
그런 다음 ‘permits’ 키워드는 Circle, Square, Triangle 클래스가  Shape 클래스의 허용된 하위 클래스임을 지정합니다.</p>

<p>봉인된 클래스를 사용하면 Shape 클래스의 하위 클래스 Circle, Square, Triangle 클래스 만 허용되도록 할 수 있습니다.
Shape 클래스를 확장하려고 다른 시도를 하면 컴파일 오류가 발생합니다.</p>

<p>허용되는 하위 클래스를 지정하는 것 외에도 봉인된 클래스를 사용하면 개발자는 더 이상 확장할 수 없는 ‘non-sealed’ 또는 ‘final’ 하위 클래스를 정의할 수 있습니다.
다음은 봉인되지 않은 하위 클래스의 예 입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">non</span><span class="o">-</span><span class="n">sealed</span> <span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">extends</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>예제에서 ‘non-sealed’ 수정자는 Circle 클래스가 Shape 클래스의 봉인되지 않은 하위 클래스임을 지정하는 데 사용됩니다.
즉, Circle 클래스는 다른 클래스에 의해 확장될 수 있지만 자체적으로는 더 이상 확장될 수 없습니다.</p>

<p>또한 Sealed 클래스를 사용하면 개발자는 허용된 하위 클래스에서 구현할 수 있는 ‘허용된’ 인터페이스를 정의할 수 있습니다.
예는 다음과 같습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">sealed</span> <span class="kd">interface</span> <span class="nc">Shape</span> <span class="n">permits</span> <span class="nc">Circle</span><span class="o">,</span> <span class="nc">Square</span><span class="o">,</span> <span class="nc">Triangle</span> 
    <span class="kd">implements</span> <span class="nc">Drawable</span><span class="o">,</span> <span class="nc">Resizable</span> <span class="o">{</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>예제에서 Shape 클래스는 허용된 하위 클래스에서 구현이 허용된 Drawable 및 Resizing 인터페이스를 구현합니다.</p>

<p>Sealed 클래스는 유형 안전성 향상, 코드 가독성 향상, 결합 감소 등 여러 가지 이점을 제공합니다.</p>

<h2 id="4-enhanced-pseudo-random-number-generators">4. Enhanced Pseudo-Random Number Generators</h2>

<p>‘Enhanced Pseudo-Random Number Generators’는 JDK 17에서 제공됩니다.
Java 애플리케이션에서 난수를 생성하는 데 사용할 수 있는 추가적인 PRNG(의사 난수 생성기)를 제공합니다.
새로운 PRNG는 Java의 기존 PRNG 보다 더 빠르고 안전하며 효율적입니다.</p>

<p>새로운 PRNG는 SplittableRandom 클래스의 인스턴스로 구현되며, 이는 분할되어 새 PRNG 인스턴스를 생성하는 데 사용될 수 있는 의사 난수 시컨스를 생성하는 방법을 제공합니다.
이를 통해 여러 스레드가 경합이 적은 난수를 독립적으로 생성할 수 있으므로 다중 스레드 애플리케이션의 성능이 향상될 수 있습니다.</p>

<p>예를 들어, 아래 코드는 SplittalbeRandom 클래스의 인스턴스를 사용하여 난수를 생성하는 방법을 보여줍니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SplittableRandom</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SplittableRandom</span><span class="o">();</span>
<span class="kt">int</span> <span class="n">randomNumber</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
</code></pre></div></div>

<p>예제에서는 SplittableRandom 클래스의 인스턴스를 생성한 다음 nextInt() 메소드를 사용하여 난수를 생성합니다.
nextInt() 메소드는 Integer.MIN_VALUE 와 Integer.MAX_VALUE 사이에 균일하게 분포된 의사 난수 정수를 반환합니다.</p>

<p>SplittableRandom 클래스를 사용하여 범위 내에서 난수를 생성할 수도 있습니다.
예를 들어, 다음 코드는 1과 100 사이의 난수를 생성하는 방법을 보여줍니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SplittableRandom</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SplittableRandom</span><span class="o">();</span>
<span class="n">intRandomNumberRange</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">101</span><span class="o">);</span>
</code></pre></div></div>

<p>예제에서는 nextInt(int bound) 메소드를 사용하여 1 이상 101 미만 사이에 균일하게 분포된 의사 난수 정수를 생성합니다.</p>

<p>SplittableRandom 클래스의 또 다른 유용한 기능은 PRNG를 분할하고 독립적인 난수 시쿽스를 생성하는 새 인스턴스를 생성할 수 있다는 것입니다.
예를 들어 아래 코드는 SplittableRandom 클래스의 인스턴스를 사용하여 새로운 PRNG 인스턴스를 생성하는 방법을 보여줍니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SplittableRandom</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SplittableRandom</span><span class="o">();</span>
<span class="nc">SplittableRandom</span> <span class="n">newRandom</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">split</span><span class="o">();</span>
</code></pre></div></div>
<p>예제에서는 SplittableRandom 클래스의 새 인스턴스를 만든 다음 이를 분할하여 독립적인 난수 시퀀스를 생성하는 새 인스턴스를 만듭니다.
두 인스턴스를 별도의 스레드에서 사용하여 경합이 적은 난수를 생성할 수 있습니다.</p>

<h2 id="5-restore-always-strict-floating-point-semantics">5. Restore Always-Strict Floating-Point Semantics</h2>

<p>Java 17에서는 ‘Restore Always-Strict Floating-Point Semantics’ 기능이 추가되었습니다.
이 기능은 Java 애플리케이션에서 부동 소수점 연산의 일관성과 신뢰성을 향상시키는 것을 목표로 합니다.
이는 정밀도가 중요한 응용 분야에서 필요할 수 있습니다.</p>

<p>Java 17 이전에는 Java의 일부 부동 소수점 작업이 IEEE 754 부동 소수점 표준을 항상 엄격하게 준수하지 않았으므로 다양한 플랫폼과 아키텍처에서 일관되지 않은 동작이 발생할 수 있습니다.
새로운 기능을 통해 Java는 기본적으로 항상 가장 엄격한 부동 소수점 의미 체계를 사용하므로 다양한 플랫폼에서 보다 예측 가능하고 일관된 동작이 가능합니다.</p>

<p>예를 들어 어떻게 작동하는지 살펴보겠습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">0.1</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">b</span> <span class="o">=</span> <span class="mf">0.2</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
</code></pre></div></div>
<p>이 예에서는 두 개의 double a와 b를 추가하고 결과를 c에 저장합니다.
Java 17 이전에는 부동 소수점 연산에서 발생할 수 있는 반올림 오류로 인해 연산의 결과는 0.30000000000000004와 같이 예상치 못한 값이 될 수 있습니다.
그러나 Java 17의 새로운 기능을 사용하면 결과는 IEEE 754 부동 소수점 표준에 따라 0.3이 됩니다.</p>

<p>이는 다양한 플랫폼과 아키텍처 전반에 걸쳐 보다 일관된 동작을 가능하게 하며, 이는 정밀도가 중요한 과학 및 금융 애플리케이션에서 특히 중요할 수 있습니다.
이 기능으로 인해 일부 부동 소수점 연산의 성능이 약간 저하될 수 있다는 점은 주목할 가치가 있지만 이는 일반적으로 부동 소수점 연산의 일관성과 신뢰성 향상에 대한 대가로 받아들여질 수 있습니다.</p>

<h2 id="6-strong-encapsulation-for-jdk-internals">6. Strong Encapsulation for JDK Internals</h2>

<p>Java 17에서는 ‘Strong Encapsulation for JDK Internals’ 기능이 추가되었습니다.
이는 API 캡슐화를 더욱 향상시키는 것을 목표로 합니다.
목표는 타사 애플리케이션 및 라이브러리의 내부 API 사용을 제한하여 Java 애플리케이션의 보안과 안정성을 향상시키는 것입니다.</p>

<p>내부 API는 향후 JDK 릴리스에서 예고 없이 변경되거나 제거될 수 있으므로 타사 응용 프로그램에서 사용하기 위한 것이 아닙니다.
그러나 일부 타사 라이브러리 및 애플리케이션은 여전히 이러한 내부 API에 의존하므로 호환성 문제 및 보안 취약성이 발생할 수 있습니다.</p>

<p>Java 17의 ‘Strong Encapsulation for JDK Internals’ 기능을 사용하면 내부 API에 대한 액세스가 더 제한 됩니다.
내부 API에서 액세스하려고 시도하는 모든 코드는 특정 API에 따라 경고 메시지 또는 컴파일 오류를 발생시킵니다.</p>

<p>이 기능이 어떻게 작동하는지 예를 들어 살펴보겠습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sun.misc.Unsafe</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Unsafe</span> <span class="n">unsafe</span> <span class="o">=</span> <span class="nc">Unsafe</span><span class="o">.</span><span class="na">getUnsafe</span><span class="o">();</span>
    <span class="kt">long</span> <span class="n">value</span> <span class="o">=</span> <span class="n">unsafe</span><span class="o">.</span><span class="na">allocateMemory</span><span class="o">(</span><span class="mi">1024</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>이 예에서는 타사 응용 프로그램에서 사용할 수 없는 내부 API인 sun.misc.Unsafe 클래스를 사용하려고 합니다.
Java 17 이전에는 이 코드가 문제 없이 컴파일되고 실행되었습니다.
그러나 새로운 기능을 사용하면 sun.misc.Unsafe 클래스에 대한 액세스가 이제 강력하게 캡슐화되므로 이 코드에서 컴파일 오류가 발생합니다.</p>

<p>이 문제를 해결하기 위해 타사 애플리케이션에서 사용하도록 고안된 대체 API를 사용할 수 있습니다.
예를 들어 java.nio.ByteBuffer 클래스를 사용하여 메모리를 할당할 수 있습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">ByteBuffer</span> <span class="n">buffer</span> <span class="o">=</span> <span class="nc">ByteBuffer</span><span class="o">.</span><span class="na">allocateDirect</span><span class="o">(</span><span class="mi">1024</span><span class="o">);</span>
    <span class="kt">long</span> <span class="n">value</span> <span class="o">=</span> <span class="o">((</span><span class="n">sun</span><span class="o">.</span><span class="na">nio</span><span class="o">.</span><span class="na">ch</span><span class="o">.</span><span class="na">DirectBuffer</span><span class="o">)</span> <span class="n">buffer</span><span class="o">).</span><span class="na">address</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>이 업데이트된 예에서는 sun.misc.Unsafe 클래스 대신 ByteBuffer 클래스를 사용하여 메모리를 할당합니다.
그런 다음 ByteBuffer를 sun.nio.ch.DirectBuffer로 캐스팅하고 해당 address() 메소드를 사용하여 메모리 주소를 가져옵니다.</p>

<h2 id="7-new-macos-rendering-pipeline">7. New macOS Rendering Pipeline</h2>

<p>Java 17의 ‘New macOS Rendering Pipeline’ 기능은 macOS에서 Java 애플리케이션의 그래픽 렌더링 성능을 향상시키는 것을 목표로 합니다.
이 파이프 라인은 macOS의 그래픽 하드웨어에 대한 낮은 수준의 액세스를 제공하는 Apple Metal API를 사용하여 더 빠르고 부드러운 그래픽 렌더링을 제공합니다.</p>

<p>Java 17 이전에는 macOS의 Java 애플리케이션이 OpenGL 파이프라인을 사용했는데, 이는 새로운 Metal 파이프 라인보다 느리고 안정성이 낮을 수 있습니다.
Metal 파이프 라인은 Java 애플리케이션이 macOS의 그래픽 하드웨어에 직접 액세스할 수 있도록 하여 더 나은 성능과 안정성을 제공하여 더 부드럽고 반응성이 뛰어난 그래픽 렌더링을 제공합니다.</p>

<p>예를 통하여 확인해 보겠습니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics2D</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JFrame</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.JPanel</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyPanel</span> <span class="kd">extends</span> <span class="nc">JPanel</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">paintComponent</span><span class="o">(</span><span class="nc">Graphics</span> <span class="n">g</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">paintComponent</span><span class="o">(</span><span class="n">g</span><span class="o">);</span>
    <span class="nc">Graphics2D</span> <span class="n">g2d</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Graphics2D</span><span class="o">)</span> <span class="n">g</span><span class="o">;</span>
    <span class="n">g2d</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">RED</span><span class="o">);</span>
    <span class="n">g2d</span><span class="o">.</span><span class="na">fillRect</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">();</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">MyPanel</span><span class="o">());</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">EXIT_ON_CLOSE</span><span class="o">);</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>이 예에서는 Graphics2D 클래스를 사용하여 빨간색 직사각형을 그리는 간단한 JPanel을 만들었습니다.
Java 17 이전에는 이 코드가 OpenGL 렌더링 파이프라인을 사용하여 직사각형을 그렸습니다.
그러나 새로운 기능을 사용하면 이 코드는 macOS에서 Metal 렌더링 파이프라인을 사용하므로 더 빠르고 부드러운 그래픽 렌더링이 가능해집니다.</p>

<p>새로운 Metal 파이프라인은 복잡한 그래픽이나 애니메이션을 사용하는 애플리케이션에서 특히 눈에 띄게 나타납니다.
이전 OpenGL 파이프라인에 비해 상당한 성능 향상을 제공할 수 있기 때문입니다.</p>

<h2 id="8-deprecate-the-applet-api-for-removal">8. Deprecate the Applet API for Removal</h2>

<p>Java 17의 ‘Deprecate the Applet for Removal’ 기능에는 Applet API를 사용 중단으로 표시하는 작업이 포함됩니다.
이는 더 이상 사용이 권장되지 않으며 향후 Java 버전에서 제거될 수 있음을 의미합니다.
Applet API는 웹 브라우저 내에서 실행되는 작은 응용 프로그램인 Java Applet을 만드는 데 사용됩니다.</p>

<p>다음은 Java에서 Applet API를 사용하는 방법의 예 입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.applet.Applet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.Graphics</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyApplet</span> <span class="kd">extends</span> <span class="nc">Applet</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">paint</span><span class="o">(</span><span class="nc">Graphics</span> <span class="n">g</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">g</span><span class="o">.</span><span class="na">drawString</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">25</span><span class="o">);</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>이 예에서는 Applet 클래스를 확장하는 MyApplet이라는 클래스를 정의했습니다.
‘Hello world!’ 문자열을 그리기 위해 paint() 메소드를 재정의 하였습니다.</p>

<p>Applet API의 사용이 중단됨에 따라 웹 기반 애플리케이션 개발을 위해 Java Web Start, JavaFX 또는 HTML5와 같은 대체 기술을 사용하는 것이 좋습니다.
개발자는 Applet API의 사용을 제거하고 향후 Java 버전과 애플리케이션의 호환성을 보장하기 위해 권장되는 대안을 채택하도록 코드를 업데이트해야 합니다.</p>



    </div>

</article>
<div class="post-nav">
<a class="previous" href="/redis/2024/02/19/redis-architecture.html" title="Redis Architecture">Redis Architecture</a><a class="next" href="/redis/2024/03/05/redis-keys-flushall.html" title="KEYS와 FLUSHALL 명령어를 쓰지 말아야되는 이유">KEYS와 FLUSHALL 명령어를 쓰지 말아야되는 이유...</a>
</div>
<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li class="">
          <a class="post-link" href="/javascript/2023/09/09/javascript-vanilla-data-grouping.html" title="vanilla javascript를 이용한 객체 배열 그룹핑">
            vanilla javascript를 이용한 객체 배열 그룹핑<span class="post-badges">
  <span class="post-badge badge-top">TOP</span>
  <span class="post-badge badge-new">NEW</span>
</span>
</a>
        </li>
<li class="">
          <a class="post-link" href="/redis/2024/02/19/redis-architecture.html" title="Redis Architecture">
            Redis Architecture<span class="post-badges">
  <span class="post-badge badge-top">TOP</span>
  <span class="post-badge badge-new">NEW</span>
</span>
</a>
        </li>
<li class="">
          <a class="post-link" href="/database/2016/12/30/database-oracle-database-table-space.html" title="Oracle 데이터베이스 관리 - 테이블스페이스 생성, 확장, 및 관리 방법">
            Oracle 데이터베이스 관리 - 테이블스페이스 생성, 확장, 및 관리 방법<span class="post-badges">
  <span class="post-badge badge-top">TOP</span>
  <span class="post-badge badge-new">NEW</span>
</span>
</a>
        </li>
<li class="">
          <a class="post-link" href="/database/2016/11/09/database-oracle-database-monitoring-queries.html" title="Oracle 점검을 위한 유용한 SQL 쿼리문 모음">
            Oracle 점검을 위한 유용한 SQL 쿼리문 모음<span class="post-badges">
  <span class="post-badge badge-top">TOP</span>
  <span class="post-badge badge-new">NEW</span>
</span>
</a>
        </li>
</ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">TOC</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>Unpublished Work <span class="copyleft">©</span> 2017-2024 Young Hwang</div>
      <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a>
</div>
    </div>
  </div>
</footer>
</body>
</html>
